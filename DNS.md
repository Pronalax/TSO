![[Pasted image 20221105195204.png]]
Что это за IP- адрес?

Это один из IP- адресов, на который обращается мой бразузер, при вводе YouTube.ru в адресной строке.

И да, нам наизусть не надо знать эту информацию.

ведь у нас, есть DNS - Domain Name System 
![[Pasted image 20221105195407.png]]

Лучший пример из жизни - контакты на моей смартфоне  
![[Pasted image 20221105195501.png]]
Так например из контакта "Инна тиндер не брать" скрывается  вполне реальные цифры телефона
![[Pasted image 20221105195548.png]]

Однако, когда мы ищем контакт, в поле мы вводим не номер телефона, а имя абонента.

![[Pasted image 20221105195636.png]]

--------------------------------------
Примерно это и делает у нас DNS - сервер.

он упрощает нашу жизнь. 

--------------------------------------

В альтернативной реальности, где роботы захватили мир - он не нужен
![[Pasted image 20221105195815.png]]

У них нет проблем с запоминанием чисел.

-------------------------------------

Набрав адрес айти базы знаний 
![[Pasted image 20221105195933.png]]
в браузере, нажав Enter - мы не сразу попадаем на DNS - сервер.

- Сначала, мой браузер - проверит Кэш браузера или операционной системы.
![[Pasted image 20221105200101.png]]
Ведь если я посещал до этого сайт, то запись об этом останется локально в кэше, чтобы в последующие разы не тратить время на поиски гоняя туда-сюда пакеты 
- А если сайт оказался новым, то тогда мы шлем запрос так называемому ***Resolder (Распознающему) DNS Server.***  
- Обычно, этот сервер находится у нашего интернет провайдера, но мы можем поменять его на другой. Например: использовать известные сервера 8.8.8.8 (Google Public Dns)  и 4 единицы : 1.1.1.1 (Cloudflare Public DNS) 
![[Pasted image 20221105202536.png]]

Он также деалет сопоставление пришедшего имени сайта ***и его адреса в своем кэшэ***
- Если находит, то отвечает
- А если не находит то мы начинаем наш поход в поисках адреса и Resolder шлет запрос к ***корневому root серверу***
- Это сервер, который находится на самом верху DNS иерархии
![[Pasted image 20221105202919.png]]
- Важно сказать, что root-сервер не один - их множество 
![[Pasted image 20221105203005.png]]
Но и этот сервер IP-адреса нам не скажет, он лишь скажет к какому серверу обратиться дальше.
- Как регистратура в поликлинике
![[Pasted image 20221105203120.png]]

Это нужно, для развлетвления поиска, чтобы не искать IP в общей куче, а уйти в нужную ветку.  
-----------------------------------------------------

Находясь в библеотеке, чтобы найти роман Стивена Кинга, нам надо явно не искать в отделе детской литературы или кулинарии

--------------------------------------
Дальше, нам надо будет просто обратиться к серверу верхнего уровня ([[TLD]]) (Top Level Domain) 

Домены верхнего уровня - это то что идет после последней точки: COM, ORG , RU , NET

- Кста, существует [[gTLD]]  (Generic Top Level Domain), который не привязан к стране: 
например .COM (коммерческие веб-сайты) или .EDU(образовательные сайты) или 
.AI (организации, связанные с исскуственным интелектом) 

- Также существует ccTLD (Country Code Top Level Domain)  - которые привязаны к стране. (.ru .us .uk )

Получается, к ROOT приходит запрос:

![[Pasted image 20221105204105.png]]

-Допустим, Resolver спрашивает у него: "Баля, братан, что ты скажешь насчет [wiki.merionet.ru](https://www.youtube.com/redirect?event=video_description&redir_token=QUFFLUhqazdVVFlHTUVPaWY5VUlqdUlXVHhVa2NsY0pNUXxBQ3Jtc0tuU2NNelRaOWFXTVRHTFpvTVMzQjg5Y09OdklEUXdGcVZmZVh6WkY2VmNVOXRaUmdhVF9MaUNPdl80QzVjNzhDbjFwdjB6YmF5YUJQSGN4V3IwYk52ZXRoYm5BRUdzaU1tQXViQXZUNkViTVU4SzQtUQ&q=https%3A%2F%2Fwiki.merionet.ru%2F&v=t2NMbSarXC4) ? "
-на что ROOT отвечает: "спроси у ссTLD - сервера, т.к. домен верхнего уровня - это .ru  "

--------------------------------------
![[Pasted image 20221105204410.png]]
Он приходит к ccTLD - серверу и спрашивает:
- А шо там дальше то?

--------------------------------------
А дальше нас перекидывают на сервер авторитативных имен - именно он скажет нужный нам IP-адрес.
![[Pasted image 20221105204546.png]]

А если он нам не ответит? Например такЖ
-твой сайт поглотила черная дыра (ну не нашел он его...)

- Теперь RESOLDER - ответим моегому девайсу, что у сайта [wiki.merionet.ru](https://www.youtube.com/redirect?event=video_description&redir_token=QUFFLUhqazdVVFlHTUVPaWY5VUlqdUlXVHhVa2NsY0pNUXxBQ3Jtc0tuU2NNelRaOWFXTVRHTFpvTVMzQjg5Y09OdklEUXdGcVZmZVh6WkY2VmNVOXRaUmdhVF9MaUNPdl80QzVjNzhDbjFwdjB6YmF5YUJQSGN4V3IwYk52ZXRoYm5BRUdzaU1tQXViQXZUNkViTVU4SzQtUQ&q=https%3A%2F%2Fwiki.merionet.ru%2F&v=t2NMbSarXC4) , такой-то IP-адрес
 ![[Pasted image 20221105204826.png]]
А еще RESOLDER - запишет адрес в кэш, чтобы снова не проходить по той же цепочке
--------------------------------------
--------------------------------------
В терминалогии DNS - существует 3 типа запросов:
- Recursive (Рекурсивный) - это запрос вида пришли мне IP-адрес сайта [wiki.merionet.ru](https://www.youtube.com/redirect?event=video_description&redir_token=QUFFLUhqazdVVFlHTUVPaWY5VUlqdUlXVHhVa2NsY0pNUXxBQ3Jtc0tuU2NNelRaOWFXTVRHTFpvTVMzQjg5Y09OdklEUXdGcVZmZVh6WkY2VmNVOXRaUmdhVF9MaUNPdl80QzVjNzhDbjFwdjB6YmF5YUJQSGN4V3IwYk52ZXRoYm5BRUdzaU1tQXViQXZUNkViTVU4SzQtUQ&q=https%3A%2F%2Fwiki.merionet.ru%2F&v=t2NMbSarXC4) 
- ITERATIVE (Итеративный) - это запрос формата пришли мне IP-адрес сайта [wiki.merionet.ru](https://www.youtube.com/redirect?event=video_description&redir_token=QUFFLUhqazdVVFlHTUVPaWY5VUlqdUlXVHhVa2NsY0pNUXxBQ3Jtc0tuU2NNelRaOWFXTVRHTFpvTVMzQjg5Y09OdklEUXdGcVZmZVh6WkY2VmNVOXRaUmdhVF9MaUNPdl80QzVjNzhDbjFwdjB6YmF5YUJQSGN4V3IwYk52ZXRoYm5BRUdzaU1tQXViQXZUNkViTVU4SzQtUQ&q=https%3A%2F%2Fwiki.merionet.ru%2F&v=t2NMbSarXC4)   или авторитарный DNS сервер

- INVERSE (Обратный) - доменное имя данного IP-адреса


--------------------------------------

Ребята крутые, но в этом видео немного переиграли и пропустили некоторые моменты. Есть иерархия DNS серверов (об этом было сказано в видео) с нашего браузера, запрос приходит на [[локальный DNS]]  (бывает даже свой, на некоторых роутерах, как в случае с MikroTik) не найдя там - запрос идет на тот самый DNS Resolver (который у провайдера) не найдя в своем кэше - резолвер шлет запрос корневому DNS (root) от которого идет ветка доменных имен первого уровня (com, org, итд) и дальше, в зависимости от твоего запроса, поиск перенаправляется к нужному сегменту иерархии DNS серверов, т.е. в случае с [youtube.COM](http://youtube.com/) - резолвер будет перенаправлен на сегмент COM и там, методом перебора, будет найден IP нужного сайта. Резолвер передает IP твоему браузеру и сохраняет DNS в своем кэше

---------------------------------------
## Работа с DNS

[**1. Что такое DNS?**](https://hostline.ru/support/36264281-rabota-s-dns#1)  
[**2. Как работает DNS?**](https://hostline.ru/support/36264281-rabota-s-dns#2)  
[**3. Типы записей в DNS.**](https://hostline.ru/support/36264281-rabota-s-dns#3)  
[**4. Как сделать, чтобы домен ссылался на конкретный ip-адрес?**](https://hostline.ru/support/36264281-rabota-s-dns#4)  
[**5. Краткая справка по команде nslookup.**](https://hostline.ru/support/36264281-rabota-s-dns#5)  
[**6. Домен не открывается с www. Как это исправить?**](https://hostline.ru/support/36264281-rabota-s-dns#6)  
[**7. Необходимо перенести обслуживание домена к другому хостеру. Как направить домен на новый хостинг?**](https://hostline.ru/support/36264281-rabota-s-dns#7)

**1. Что такое DNS?**  
DNS (Domain Name System, система доменных имён) - иерархическая, распределенная в сети система баз данных, предоставляющая пользователям сети Интернет дополнительный сервис (технически реализованный на компьютерах - DNS-серверах, на которых запущено специальное программное обеспечение) по автоматическому преобразованию запросов, оформленных в удобном для человека текстовом формате (например, www.test.ru) в цифровой IP-адрес компьютера (например, 192.1.1.1), где находится искомый ресурс.  
Иерархию DNS чаще всего представляют в виде древовидной структуры. В основе этого дерева находится (1) корневой домен "." (root), далее идут (2) домены первого уровня TLD (top level domains). За доменами первого уровня не закреплено никаких IP-адресов, они предназначены для создания на их основе (в их зонах) доменов второго уровня с последующим закреплением за ними IP-адресов.  
  
**2. Как работает DNS?**  
DNS работает в режиме вопрос/ответ. Допустим, Вы ввели в строке своего браузера "test.ru".  
Рассмотрим работу DNS пошагово:

1.  Ваш браузер об IP-адресе test.ru ничего не знает и с запросом IP-адреса через специальную программу-resolver обращается к локальному серверу имен. Локальный DNS-сервер - это сервер имен Вашей локальной сети или DNS-сервер Вашего интернет-провайдера. "Откуда браузеру известно о существовании этого локального DNS?" - спросите Вы. Все предельно просто. При настройках сетевого подключения Вы прописываете IP-адреса DNS-серверов (предпочитаемого и/или альтернативного), один из которых будет отвечать на запросы, посылаемые Вашим браузером через resolver - это и есть локальный или местный сервер Вашей сети. Вы всегда можете посмотреть IP-адрес Вашего локального DNS-сервера. Для этого достаточно посмотреть свойства сетевого подключения, используемого на Вашем компьютере.
2.  Запрос на IP-адрес test.ru доходит до местного сервера имен. Этот сервер о данном IP-адресе ничего не знает и посылает запрос одному из корневых серверов "." (root).
3.  Корневой сервер отдает локальному серверу IP-адрес сервера, который поддерживает зону .ru.
4.  Далее по полученному адресу локальный сервер имен обращается к DNS-серверу, который поддерживает .ru.
5.  Этот DNS-сервер, в свою очередь, по полученному запросу отдает IP-адрес сервера, который поддерживает зону test.ru.
6.  Местный DNS-сервер с запросом IP-адреса test.ru обращается к DNS-серверу зоны test.ru.
7.  Локальный сервер имен получает IP-адрес test.ru. от DNS-сервера зоны test.ru.
8.  Получив адрес test.ru, локальный DNS-сервер сообщает его Вашему браузеру.